````
$ cd /home/flag08
$ ls
capture.pcap
```

So when we look in the challenge directory, we see a PCAP file whihc is a network packet traffic capture file. We can analyze this using wireshark, however we will need to transfer this to our host machine. We can do that using a tool called netcat, which is essentially the swiss army knife networking tool.

To do this, first your host machine we will have to setup a netcat listening session. This will setup a listener on our local machine on port 3333, that will close after it has recieved the file.

```
guyinatuxedo@tux:~$ nc -l -p 3333 -q 1 > capture.pcap
```

Now on your nebula vm, you will need to send the file using netcat. This will essentially print out the contents of the pcap file over netcat, to our listener at the ipv4 address 192.168.1.78, port 3333. You will need to change this to match the ip address of the host machine. If this doesn't work, try pinging your host machine and if that doesn't work you will proably need to change your vmware network settings.

```
$ cat capture.pcap | nc 192.168.1.78 3333
```

Now that the file appears to have been transferred, let's confirm it using the file utillity.

```
guyinatuxedo@tux:~$ file capture.pcap
capture.pcap: tcpdump capture file (little-endian) - version 2.4 (Ethernet, capture length 65535)
```

So this tells us that the file transferred successfully, and that it retains it data. To trully know if it is an exact copy we would need to hash both files and compare the two, but we don't need to do that now.
Now we are just going to look at the file in Wireshark.

```
guyinatuxedo@tux:~$ wireshark capture.pcap
```

When it opens you should see something like this.

![alt tag](http://i.imgur.com/kzLlHbb.png)

Looking through here, we have a lot of TCP traffic, however it all appears to be on the same stream. A nice feature of Wireshark is it can piece together all of the traffic in a stream, and present it to you in a way you can easily analyze it. Since it is all in the same stream, you can just right click on any of the packets then Follow>TCP Stream. Or you can just head up the the taskbar and go Analyze>Follow>TCP Stream. You should be presented with a window like this.

![alt tag](http://i.imgur.com/zm2j5nl.png)

From here we can tell that the user is logging into something. When we look at the user name, we see this "l.le.ev.ve.el.l8.8" (it's supposed to be in red and blue, red is what the user is sending the server and vice versa). This probably means that the password below is for the challenge, even though it's not the account we want access to we know the password to the account already so the password below is probably for the flag08 account. Now when we look at that we see

```
Password: backdoor...00Rm8.ate
```

Now when we try this password, it doesn't work for the flag08 account. Let's look at this in hex, since the hex to ASCII character conversion isn't always 100% accurate. To do this, on the bottom of that window just switch the "Show data as" to Hex Dump. 

![alt tag](http://i.imgur.com/ZPgfSKZ.png)

Looking at this, we see the password spelled out. However we see that the "." are 7f in hex. This means that the periods are not periods. 7f in hex is DEL, otherwise known as backspace. So each time we see a 7f, that's a backspace. So this
```
backdoor...00Rm8.ate
```
really is
```
backd00Rmate
```

Now let's try that password on the nebula vm.
```
$ su flag08
Password: backd00Rmate
sh-4.2$ getflag
You have successfully executed getflag on a target account
```

And just like that, we pwned the challenge.

Sources: http://cybergibbons.com/security-2/nebula-walkthrough/nebula-exploit-exercises-walkthrough-level08/



