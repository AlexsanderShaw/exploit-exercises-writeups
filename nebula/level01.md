You can log on to this level with the username "level01" (password is the same). The executable for this challenge is /home/flag01/flag01. The objective is to run /bin/getflag using the proper account.

In this level we have source code, so let's look at it...

```
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <sys/types.h>
#include <stdio.h>

int main(int argc, char **argv, char **envp)
{
  gid_t gid;
  uid_t uid;
  gid = getegid();
  uid = geteuid();

  setresgid(gid, gid, gid);
  setresuid(uid, uid, uid);

  system("/usr/bin/env echo and now what?");
}
```

So looking at this code, it retireves the current uder and group id, changes the processes permsissions to that, then uses bash to echo out some text.
Looking at this, there is no where we can directly input data. However in the system call, it uses /usr/bin/env which is an ELF that will locate bash for us, using the $PATH enviormental variable.
If we can modify the $PATH variable for echo, then we should be able to get the program to run the desired elf /bin/getflag.

To do this we can just create a symbolic link, which will connetct /bin/getflag to echo. This must be done in a directory that you have permissions to do so (like your home directory). You can check to see if it hasbeen created by running "ls -asl" for the directory you created the link in.

```
$ ln -s /bin/getflag echo
```

Now that you have created the link it is just a matter of exporting the path variable to overwrite the new, then executing the program.
For the ".:$PATH" portion of the following command, the "." signifies the current directory which should be the directory that has the new symbolic link. The ":$PATH" signifies the path variable for that specific directory. By exporting that as the new path, we change the global Path variable.

```
$ export PATH=.:$PATH
$ /bin/getflag/getflag
You have successfully executed getflag on a target account
```
And just like that, we pwned the program!
 
Sources: http://cybergibbons.com/security-2/nebula-walkthrough/nebula-exploit-exercises-walkthrough-level01/
